<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Details</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Sora:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/static/css/theme.css" rel="stylesheet">
    <link href="/static/css/workout_details.css" rel="stylesheet">
</head>
<body class="theme-shell details-shell">
<header class="page-hero details-hero">
    <div class="hero-glow"></div>
    <div class="hero-content">
        <div>
            <p class="hero-kicker">
                {% if confirm_mode %}
                    Plan review
                {% else %}
                    Session detail
                {% endif %}
            </p>
            <h1 class="hero-title">
                {% if confirm_mode %}
                    Confirm Your New Workout
                {% else %}
                    Workout Details
                {% endif %}
            </h1>
            {% if confirm_mode %}
                <p class="hero-subtitle">Review the generated plan below before saving.</p>
            {% else %}
                {% if workout %}
                    <p class="hero-subtitle">
                        {{ workout.workout_name }}
                        {% if workout.workout_date %}
                            <span class="hero-muted"> | {{ workout.workout_date.strftime('%b %d, %Y') }}</span>
                        {% endif %}
                    </p>
                {% else %}
                    <p class="hero-subtitle">No workout found.</p>
                {% endif %}
            {% endif %}
        </div>
        <div class="hero-meta">
            {% if confirm_mode and pending_workout %}
                <span class="hero-chip">Plan: {{ pending_workout.workout_name or "Unnamed Workout" }}</span>
            {% elif workout %}
                <span class="hero-chip">Movements: {{ workout.workout_movements|length }}</span>
                {% if workout.is_completed %}
                    <span class="hero-chip chip-positive">Completed</span>
                {% else %}
                    <span class="hero-chip chip-warning">In progress</span>
                {% endif %}
            {% endif %}
        </div>
    </div>
</header>

<main class="details-main">
    <div id="loadingSpinner" class="loading-overlay">
        <div class="spinner"></div>
        <p id="spinnerText">Fetching instructions...</p>
    </div>

    {% if confirm_mode and pending_workout %}
        <section class="glass-panel section-block">
            <div class="panel-header">
                <div>
                    <h2 class="panel-title">{{ pending_workout.workout_name or "Unnamed Workout" }}</h2>
                    <p class="panel-subtitle">Review and adjust your workout before saving.</p>
                </div>
                <span class="panel-tag">Preview</span>
            </div>
            <div class="panel-body">
                <div class="table-responsive">
                    <table class="table table-dark table-borderless align-middle" id="pendingMovementsTable">
                        <thead>
                        <tr>
                            <th>Movement</th>
                            <th style="width: 80px;">Sets</th>
                            <th style="width: 80px;">Reps</th>
                            <th style="width: 110px;">Weight (kg)</th>
                            <th>Muscle Groups</th>
                            <th style="width: 90px;">Actions</th>
                        </tr>
                        </thead>
                        <tbody id="pendingMovementsList">
                        {% for mv in pending_workout.movements %}
                            <tr data-index="{{ loop.index0 }}">
                                <td>{{ mv.name }}</td>
                                <td>
                                    <input type="number" class="form-control form-control-sm sets-input"
                                           value="{{ mv.sets }}" min="1" max="20"
                                           onchange="updatePendingMovement({{ loop.index0 }})">
                                </td>
                                <td>
                                    <input type="number" class="form-control form-control-sm reps-input"
                                           value="{{ mv.reps }}" min="1" max="100"
                                           onchange="updatePendingMovement({{ loop.index0 }})">
                                </td>
                                <td>
                                    <input type="number" class="form-control form-control-sm weight-input"
                                           value="{{ mv.weight }}" min="0" step="0.5"
                                           onchange="updatePendingMovement({{ loop.index0 }})">
                                </td>
                                <td>
                                    {% for mg in mv.muscle_groups %}
                                        <span class="badge detail-badge">{{ mg.name }} ({{ mg.impact }}%)</span>
                                    {% endfor %}
                                </td>
                                <td>
                                    <button type="button" class="btn btn-sm btn-danger"
                                            onclick="removePendingMovement({{ loop.index0 }})">
                                        <i class="bi bi-trash"></i> Remove
                                    </button>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section class="glass-panel section-block">
            <div class="panel-header">
                <div>
                    <h2 class="panel-title">Add Movement</h2>
                    <p class="panel-subtitle">Pull a movement from the library and tune sets, reps, and weight.</p>
                </div>
                <button class="panel-action" type="button" data-bs-toggle="collapse" data-bs-target="#addMovementPanel">
                    <i class="bi bi-plus-circle"></i> Add Movement from Library
                </button>
            </div>
            <div class="collapse" id="addMovementPanel">
                <div class="panel-body">
                    <div class="row g-3">
                        <div class="col-md-5">
                            <label for="pending_movement_id" class="form-label">Select Movement:</label>
                            <select id="pending_movement_id" class="form-select">
                                <option value="">-- Select a movement --</option>
                                {% for mov in all_movements %}
                                    <option value="{{ mov.movement_id }}"
                                            data-muscles="{{ mov.muscle_groups | tojson }}">
                                        {{ mov.movement_name }}
                                    </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label for="pending_sets" class="form-label">Sets:</label>
                            <input type="number" id="pending_sets" class="form-control" value="3" min="1">
                        </div>
                        <div class="col-md-2">
                            <label for="pending_reps" class="form-label">Reps:</label>
                            <input type="number" id="pending_reps" class="form-control" value="10" min="1">
                        </div>
                        <div class="col-md-2">
                            <label for="pending_weight" class="form-label">Weight:</label>
                            <input type="number" id="pending_weight" class="form-control" value="0" min="0" step="0.5">
                        </div>
                        <div class="col-md-1 d-flex align-items-end">
                            <button type="button" class="btn btn-primary w-100" onclick="addPendingMovement()">
                                Add
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="action-row">
            <form method="POST" action="{{ url_for('workouts.confirm_workout') }}" class="flex-grow-1">
                <button type="submit" class="btn btn-success w-100">
                    <i class="bi bi-check-circle"></i> Confirm and Save Workout
                </button>
            </form>
            <form action="{{ url_for('workouts.generate_workout') }}" method="POST">
                <input type="hidden" name="target" value="{{ session.get('pending_target', 'General Fitness') }}">
                <button type="submit" class="btn btn-warning">
                    <i class="bi bi-arrow-clockwise"></i> Regenerate
                </button>
            </form>
        </div>

        <script>
        async function updatePendingMovement(index) {
            const row = document.querySelector(`tr[data-index="${index}"]`);
            const sets = row.querySelector('.sets-input').value;
            const reps = row.querySelector('.reps-input').value;
            const weight = row.querySelector('.weight-input').value;

            try {
                const response = await fetch('/pending_workout/update_movement', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ index, sets, reps, weight })
                });
                const data = await response.json();
                if (!data.success) {
                    alert(data.error || 'Failed to update movement');
                }
            } catch (error) {
                console.error('Error updating movement:', error);
            }
        }

        async function removePendingMovement(index) {
            if (!confirm('Remove this movement from the workout?')) return;

            try {
                const response = await fetch(`/pending_workout/remove_movement/${index}`, {
                    method: 'POST'
                });
                const data = await response.json();
                if (data.success) {
                    location.reload();
                } else {
                    alert(data.error || 'Failed to remove movement');
                }
            } catch (error) {
                console.error('Error removing movement:', error);
            }
        }

        async function addPendingMovement() {
            const movementId = document.getElementById('pending_movement_id').value;
            const sets = document.getElementById('pending_sets').value;
            const reps = document.getElementById('pending_reps').value;
            const weight = document.getElementById('pending_weight').value;

            if (!movementId) {
                alert('Please select a movement');
                return;
            }

            try {
                const response = await fetch('/pending_workout/add_movement', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ movement_id: movementId, sets, reps, weight })
                });
                const data = await response.json();
                if (data.success) {
                    location.reload();
                } else {
                    alert(data.error || 'Failed to add movement');
                }
            } catch (error) {
                console.error('Error adding movement:', error);
            }
        }
        </script>
    {% else %}
        {% if workout %}
            {% if from_select_workout or not workout.is_completed %}
                <button class="section-toggle" id="toggleGenerateWorkout" type="button">
                    <i class="bi bi-stars"></i>
                    {% if workout.workout_movements|length > 0 %}
                        Generate and Add More Movements
                    {% else %}
                        Generate Movements with AI
                    {% endif %}
                </button>
                <section id="generateWorkoutSection" class="glass-panel section-block" style="display: none;">
                    <div class="panel-header">
                        <div>
                            <h2 class="panel-title">Customize Your Workout</h2>
                            <p class="panel-subtitle">Tune the plan before generating movements.</p>
                        </div>
                        <button type="button" class="btn-close" aria-label="Close" onclick="hideGenerateWorkoutSection()"></button>
                    </div>
                    <div class="panel-body">
                        <form action="/generate_movements/{{ workout.workout_id }}" method="POST" onsubmit="showLoading()">
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <label for="sex" class="form-label">Sex</label>
                                    <select name="sex" id="sex" class="form-select" required>
                                        <option value="">-- Select --</option>
                                        <option value="male" {% if user and user.sex == 'male' %}selected{% endif %}>Male</option>
                                        <option value="female" {% if user and user.sex == 'female' %}selected{% endif %}>Female</option>
                                    </select>
                                </div>

                                <div class="col-md-4">
                                    <label for="weight" class="form-label">Bodyweight (kg)</label>
                                    <input type="number" id="weight" name="weight" class="form-control"
                                           placeholder="Enter your weight" step="0.1"
                                           value="{{ user.bodyweight if user and user.bodyweight else '' }}" required>
                                </div>

                                <div class="col-md-4">
                                    <label for="gymexp" class="form-label">Gym Experience</label>
                                    <select name="gymexp" id="gymexp" class="form-select" required>
                                        <option value="">-- Select --</option>
                                        <option value="beginner" {% if user and user.gym_experience == 'beginner' %}selected{% endif %}>Beginner</option>
                                        <option value="intermediate" {% if user and user.gym_experience == 'intermediate' %}selected{% endif %}>Intermediate</option>
                                        <option value="advanced" {% if user and user.gym_experience == 'advanced' %}selected{% endif %}>Advanced</option>
                                        <option value="expert" {% if user and user.gym_experience == 'expert' %}selected{% endif %}>Expert</option>
                                    </select>
                                </div>

                                <div class="col-md-6">
                                    <label for="target" class="form-label">Workout Focus</label>
                                    <input type="text" id="target" name="target" class="form-control"
                                           placeholder="e.g., upper body, legs" required>
                                </div>

                                <div class="col-md-6">
                                    <label for="goal" class="form-label">Workout Goal</label>
                                    <select name="goal" id="goal" class="form-select" required>
                                        <option value="">-- Select --</option>
                                        <option value="muscle_growth" {% if user and user.workout_goal == 'muscle_growth' %}selected{% endif %}>Muscle Growth</option>
                                        <option value="strength" {% if user and user.workout_goal == 'strength' %}selected{% endif %}>Strength</option>
                                        <option value="cardio" {% if user and user.workout_goal == 'cardio' %}selected{% endif %}>Cardio / Endurance</option>
                                        <option value="weight_loss" {% if user and user.workout_goal == 'weight_loss' %}selected{% endif %}>Weight Loss</option>
                                        <option value="general_fitness" {% if user and user.workout_goal == 'general_fitness' or not user or not user.workout_goal %}selected{% endif %}>General Fitness</option>
                                    </select>
                                </div>

                                <div class="col-md-12">
                                    <label for="restrictions" class="form-label">Restrictions (optional)</label>
                                    <textarea id="restrictions" name="restrictions" class="form-control" rows="2"
                                              placeholder="e.g., knee injury - avoid squats, no overhead movements"></textarea>
                                    <small class="helper-text">Mention any injuries, limitations, or movements to avoid.</small>
                                </div>

                                <div class="col-md-12">
                                    <button type="submit" class="btn btn-success w-100">Generate Movements</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>

                <script>
                    function showLoading() {
                        showSpinnerWithMessage('Customizing your workout...');
                    }

                    function hideGenerateWorkoutSection() {
                        const section = document.getElementById('generateWorkoutSection');
                        if (section) {
                            section.style.display = 'none';
                        }
                    }
                </script>
            {% endif %}
            <section class="glass-panel section-block">
                <div class="panel-header">
                    <div>
                        <h2 class="panel-title">Movements</h2>
                        <p class="panel-subtitle">Tap a movement to review details or start your workout.</p>
                    </div>
                    <span class="panel-tag">Active</span>
                </div>
                <div class="panel-body">
                    <form id="startWorkoutForm" action="/active_workout/{{ workout.workout_id }}" method="GET">
                        <div class="movements-list" id="movementsList">
                            {% for wm in workout.workout_movements %}
                                <div class="movement-card {{ 'done-card' if wm.done else '' }}"
                                     id="card_{{ wm.workout_movement_id }}">
                                    <div class="movement-header">
                                        <span class="movement-name">{{ wm.movement.movement_name }}</span>
                                        <button type="button" class="btn btn-sm btn-info"
                                                onclick="fetchInstructions('{{ wm.movement.movement_name }}')">
                                            <i class="bi bi-info-circle"></i> Info
                                        </button>
                                    </div>
                                    <div class="sets-summary">
                                        {% set sets_data = [] %}
                                        {% for s in wm.sets %}
                                            {% set reps = s.reps|map(attribute='rep_count')|sum %}
                                            {% set weight = s.weights|map(attribute='weight_value')|first|default(0) %}
                                            {% set _ = sets_data.append({'reps': reps, 'weight': weight}) %}
                                        {% endfor %}

                                        {% if sets_data|length > 0 %}
                                            {% set first_set = sets_data[0] %}
                                            {% set ns = namespace(all_same=true) %}
                                            {% for s in sets_data %}
                                                {% if s.reps != first_set.reps or s.weight != first_set.weight %}
                                                    {% set ns.all_same = false %}
                                                {% endif %}
                                            {% endfor %}

                                            {% if ns.all_same and sets_data|length > 1 %}
                                                <span class="set-badge consolidated">
                                                    {{ sets_data|length }}x{{ first_set.reps }} @ {{ first_set.weight }}kg
                                                </span>
                                            {% else %}
                                                {% for s in sets_data %}
                                                    <span class="set-badge">{{ s.reps }} reps @ {{ s.weight }}kg</span>
                                                {% endfor %}
                                            {% endif %}
                                        {% else %}
                                            <span class="set-badge">No sets</span>
                                        {% endif %}
                                    </div>
                                </div>
                            {% else %}
                                <div class="alert alert-info text-center">
                                    No movements added yet. Use the options above to add movements.
                                </div>
                            {% endfor %}
                        </div>
                        {% if not workout.is_completed and workout.workout_movements|length > 0 %}
                            <button type="submit" class="btn btn-success w-100 mt-3">Start Workout</button>
                        {% endif %}
                    </form>
                </div>
            </section>

            {% if workout.is_completed %}
                <section class="glass-panel section-block">
                    <div class="panel-header">
                        <div>
                            <h2 class="panel-title">Muscle Group Impact</h2>
                            <p class="panel-subtitle">Total impact per muscle group for this workout.</p>
                        </div>
                        <span class="panel-tag">Summary</span>
                    </div>
                    <div class="panel-body">
                        {% if muscle_group_impacts %}
                            <div class="table-responsive">
                                <table class="table table-dark table-borderless align-middle">
                                    <thead>
                                    <tr>
                                        <th>Muscle Group</th>
                                        <th>Total Impact</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for mg_name, impact in muscle_group_impacts %}
                                        <tr>
                                            <td>{{ mg_name }}</td>
                                            <td>{{ impact|round(2) }}</td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% else %}
                            <div class="alert alert-warning text-center" role="alert">
                                No muscle group data available for this workout.
                            </div>
                        {% endif %}
                    </div>
                </section>
            {% endif %}

            {% if not workout.is_completed %}
                <section class="glass-panel section-block">
                    <div class="panel-header">
                        <div>
                            <h2 class="panel-title">Add Movements Manually</h2>
                            <p class="panel-subtitle">Mix in movements directly from the library or create a new one.</p>
                        </div>
                        <button class="btn btn-outline-primary" type="button" onclick="toggleNewMovement()">
                            <i class="bi bi-plus-circle"></i> Add Movements Manually
                        </button>
                    </div>

                    <form id="newMovementForm" action="/add_movement" method="POST" class="row g-3" style="display: none;">
                        <input type="hidden" name="workout_id" value="{{ workout.workout_id }}">

                        <div class="col-md-12">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio"
                                       name="movement_option" id="optionExisting"
                                       value="existing" checked
                                       onchange="toggleMovementFields()">
                                <label class="form-check-label" for="optionExisting">
                                    Select Existing Movement
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio"
                                       name="movement_option" id="optionNew"
                                       value="new"
                                       onchange="toggleMovementFields()">
                                <label class="form-check-label" for="optionNew">
                                    Create New Movement
                                </label>
                            </div>
                        </div>

                        <div class="col-md-6" id="existingMovementSection">
                            <label for="movement_id" class="form-label">Select Existing Movement:</label>
                            <select name="movement_id" id="movement_id" class="form-select" onchange="updateMuscleGroups()">
                                <option value="">-- None --</option>
                                {% for mov in all_movements %}
                                    <option value="{{ mov.movement_id }}" data-muscles="{{ mov.muscle_groups | tojson }}">
                                        {{ mov.movement_name }}
                                    </option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-6" id="newMovementSection" style="display: none;">
                            <label for="new_movement_name" class="form-label">New Movement Name:</label>
                            <input type="text" id="new_movement_name" name="new_movement_name" class="form-control"
                                   placeholder="e.g., Dragon Flags">
                        </div>

                        <div class="col-md-2">
                            <label for="sets" class="form-label">Sets:</label>
                            <input type="number" id="sets" name="sets" class="form-control" min="1" value="1">
                        </div>
                        <div class="col-md-2">
                            <label for="reps_per_set" class="form-label">Reps:</label>
                            <input type="number" id="reps_per_set" name="reps_per_set" class="form-control" min="1" value="10">
                        </div>
                        <div class="col-md-2">
                            <label for="weight" class="form-label">Weight (kg):</label>
                            <input type="number" id="weight" name="weight" class="form-control" step="0.1" value="0">
                        </div>

                        <div id="muscleGroupSummary" class="col-md-12 mt-3" style="display: none;">
                            <h5>Muscle Groups Affected:</h5>
                            <ul id="muscleGroupList" class="list-group"></ul>
                        </div>

                        <div class="col-md-12">
                            <button type="submit" class="btn btn-primary w-100">Add Movement</button>
                        </div>
                    </form>
                </section>
            {% endif %}

            <button class="section-toggle danger" id="manageWorkoutToggle" type="button">Manage Workout</button>
            <div class="workout-management-container">
                <div class="management-grid">
                    <section class="glass-panel">
                        <div class="panel-header">
                            <div>
                                <h2 class="panel-title">Actions</h2>
                                <p class="panel-subtitle">Clean up or finish this workout.</p>
                            </div>
                            <span class="panel-tag">Control</span>
                        </div>
                        <div class="panel-body">
                            <div class="d-flex flex-wrap justify-content-center gap-2">
                                <form action="/delete_workout/{{ workout.workout_id }}" method="POST">
                                    <button type="submit" class="btn btn-danger">Remove Workout</button>
                                </form>
                                {% if not workout.is_completed %}
                                    <form action="/complete_workout/{{ workout.workout_id }}" method="POST">
                                        <button type="submit" class="btn btn-success">Mark as Completed</button>
                                    </form>
                                {% endif %}
                            </div>
                        </div>
                    </section>

                    <section class="glass-panel">
                        <div class="panel-header">
                            <div>
                                <h2 class="panel-title">Workout Name</h2>
                                <p class="panel-subtitle">Keep your session label tidy.</p>
                            </div>
                            <span class="panel-tag">Identity</span>
                        </div>
                        <div class="panel-body">
                            <form action="/update_workout_name/{{ workout.workout_id }}" method="POST" class="row g-3">
                                <div class="col-md-8">
                                    <label for="workoutName" class="form-label">Name:</label>
                                    <input type="text" id="workoutName" name="workoutName" class="form-control"
                                           value="{{ workout.workout_name }}" placeholder="Enter workout name" required>
                                </div>
                                <div class="col-md-4 align-self-end">
                                    <button type="submit" class="btn btn-primary w-100">Save Name</button>
                                </div>
                            </form>
                        </div>
                    </section>

                    <section class="glass-panel">
                        <div class="panel-header">
                            <div>
                                <h2 class="panel-title">Update Workout Date</h2>
                                <p class="panel-subtitle">Shift the session to a new day.</p>
                            </div>
                            <span class="panel-tag">Schedule</span>
                        </div>
                        <div class="panel-body">
                            <form action="/update_workout_date/{{ workout.workout_id }}" method="POST" class="row g-3">
                                <div class="col-md-6">
                                    <label for="new_date" class="form-label">Change Date:</label>
                                    <input type="date" id="new_date" name="new_date" class="form-control"
                                           value="{{ workout.workout_date.strftime('%Y-%m-%d') }}" required>
                                </div>
                                <div class="col-md-4 align-self-end">
                                    <button type="submit" class="btn btn-primary w-100">Update Date</button>
                                </div>
                            </form>
                        </div>
                    </section>
                </div>
            </div>
        {% else %}
            <div class="alert alert-warning text-center" role="alert">
                No workout to display.
            </div>
        {% endif %}
    {% endif %}
</main>
{% if workout and workout.workout_movements|length == 0 and not confirm_mode %}
<div class="alert alert-warning alert-dismissible fade show empty-workout-alert mx-3 mb-5" role="alert">
    <i class="bi bi-exclamation-triangle"></i>
    <strong>Empty Workout:</strong> This workout has no movements. If you leave without adding any, it will be discarded.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}

{% set is_today = workout and workout.workout_date and workout.workout_date.strftime('%Y-%m-%d') == date_str_today %}
<div class="go-back-container {{ 'today-workout' if is_today and not workout.is_completed else '' }}">
    <button id="goBackButton" class="btn btn-secondary go-back-button">Go Back</button>
</div>

<div class="modal fade" id="instructionsModal" tabindex="-1" aria-labelledby="instructionsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="instructionsModalLabel">Movement Instructions</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="instructionsModalBody">Loading...</div>
        </div>
    </div>
</div>

<script>
    const WORKOUT_ID = {{ workout.workout_id if workout else 'null' }};
    const WORKOUT_IS_EMPTY = {{ 'true' if workout and workout.workout_movements|length == 0 else 'false' }};
    const IS_CONFIRM_MODE = {{ 'true' if confirm_mode else 'false' }};
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/static/js/workout_details_scripts.js"></script>
</body>
</html>
